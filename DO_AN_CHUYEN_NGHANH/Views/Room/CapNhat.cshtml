@model DO_AN_CHUYEN_NGHANH.Models.Phong

@{
    Layout = null;
}

<!DOCTYPE html>
<html lang="vi">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cập Nhật Phòng</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <div class="card shadow-lg">
            <div class="card-header bg-primary text-white text-center">
                <h4 class="mb-0">Cập Nhật Phòng</h4>
            </div>
            <form method="post" enctype="multipart/form-data" class="p-4">
                @Html.AntiForgeryToken()
                <div class="row g-4">
                    <!-- Mã Phòng -->
                    <div class="col-md-6 form-floating">
                        @Html.EditorFor(model => model.MaPhong, new { htmlAttributes = new { @class = "form-control", @readonly = "readonly", placeholder = "Mã Phòng" } })
                        <label for="MaPhong">Mã Phòng</label>
                        @Html.ValidationMessageFor(model => model.MaPhong, "", new { @class = "text-danger" })
                    </div>

                    <!-- Hình Ảnh -->
                    <div class="col-md-6">
                        <label for="HinhAnh" class="form-label">Hình Ảnh</label>
                        <input type="file" name="HinhAnh" class="form-control" accept="image/*" />
                        @Html.ValidationMessageFor(model => model.HinhAnh, "", new { @class = "text-danger" })
                    </div>

                    <!-- Tên Phòng -->
                    <div class="col-md-6 form-floating">
                        @Html.EditorFor(model => model.TenPhong, new { htmlAttributes = new { @class = "form-control", placeholder = "Tên Phòng" } })
                        <label for="TenPhong">Tên Phòng</label>
                        @Html.ValidationMessageFor(model => model.TenPhong, "", new { @class = "text-danger" })
                    </div>

                    <!-- Tình Trạng -->
                    <div class="col-md-6 form-floating">
                        @Html.EditorFor(model => model.TinhTrang, new { htmlAttributes = new { @class = "form-control", placeholder = "Tình Trạng" } })
                        <label for="TinhTrang">Tình Trạng</label>
                        @Html.ValidationMessageFor(model => model.TinhTrang, "", new { @class = "text-danger" })
                    </div>

                    <!-- Ghi Chú -->
                    <div class="col-md-6 form-floating">
                        @Html.EditorFor(model => model.GhiChu, new { htmlAttributes = new { @class = "form-control", placeholder = "Ghi Chú" } })
                        <label for="GhiChu">Ghi Chú</label>
                        @Html.ValidationMessageFor(model => model.GhiChu, "", new { @class = "text-danger" })
                    </div>

                    <!-- Giá -->
                    <div class="col-md-6 form-floating">
                        @Html.EditorFor(model => model.Gia, new { htmlAttributes = new { @class = "form-control", placeholder = "Giá" } })
                        <label for="Gia">Giá</label>
                        @Html.ValidationMessageFor(model => model.Gia, "", new { @class = "text-danger" })
                    </div>

                    <!-- Tầng -->
                    <div class="col-md-6">
                        <label for="Tang" class="form-label">Tầng</label>
                        <select class="form-select" asp-for="Tang" name="Tang">
                            @foreach (var item in new DO_AN_CHUYEN_NGHANH.Models.MapTang().dsTang())
                            {
                                <option value="@item.SoTang" @(item.SoTang == Model.Tang ? "selected" : "")>@item.SoTang</option>
                            }
                        </select>
                        @Html.ValidationMessageFor(model => model.Tang, "", new { @class = "text-danger" })
                    </div>
                </div>

                <!-- Nút Lưu -->
                <div class="mt-4 d-flex justify-content-between">
                    <button type="submit" class="btn btn-primary px-4">Cập Nhật</button>
                    @Html.ActionLink("Quay Lại", "Index", "Room", null, new { @class = "btn btn-secondary px-4" })
                </div>
            </form>             
            @if (TempData["SuccessMessage"] != null)
            {
                <div class="alert alert-success mt-3 text-center">
                    @TempData["SuccessMessage"]
                </div>
            }
            @if (TempData["ErrorMessage"] != null)
            {
                <div class="alert alert-danger mt-3 text-center">
                    @TempData["ErrorMessage"]
                </div>
            }

            @Html.ValidationSummary(true, "", new { @class = "text-danger mt-3" })
        </div>
    </div>
</body>
</html>
